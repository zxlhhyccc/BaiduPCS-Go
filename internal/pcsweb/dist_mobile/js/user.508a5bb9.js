(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-user"},[a("mv-page",{staticClass:"page-intro",model:{value:t.isShowIntro,callback:function(e){t.isShowIntro=e},expression:"isShowIntro"}},[a("h3",[t._v("BaiduPCS-Go Web版本")]),a("p",[a("v-icon",{attrs:{icon:"email"}}),t._v(" liuzhuoling2011@hotmail.com")],1),a("p",[a("v-icon",{attrs:{icon:"github"}}),a("a",{attrs:{href:"https://github.com/liuzhuoling2011/baidupcs-web",target:"_blank"}},[t._v("https://github.com/liuzhuoling2011/baidupcs-web")])],1),a("p",[t._v("感谢 iikira 提供了高速, 稳定可靠的百度云后台服务")]),a("p",[a("v-icon",{attrs:{icon:"github"}}),a("a",{attrs:{href:"https://github.com/Erope/BaiduPCS-Go",target:"_blank"}},[t._v("https://github.com/Erope/BaiduPCS-Go")])],1)]),a("mv-page",{staticClass:"page-set-lock",model:{value:t.isShowSetLock,callback:function(e){t.isShowSetLock=e},expression:"isShowSetLock"}},[a("div",{staticClass:"mv-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldLockPwd,expression:"oldLockPwd"}],staticClass:"input",attrs:{type:"password",placeholder:"原锁定密码(第一次设置可不填)"},domProps:{value:t.oldLockPwd},on:{input:function(e){e.target.composing||(t.oldLockPwd=e.target.value)}}})]),a("div",{staticClass:"mv-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newLockPwd,expression:"newLockPwd"}],staticClass:"input",attrs:{type:"password",placeholder:"新锁定密码"},domProps:{value:t.newLockPwd},on:{input:function(e){e.target.composing||(t.newLockPwd=e.target.value)}}})]),a("button",{staticClass:"mv-btn btn-wide",attrs:{type:"button"},on:{click:t.setLockPwd}},[t._v("确定")])]),a("div",{staticClass:"user-data"},[a("div",{staticClass:"i-avatar"}),a("div",{staticClass:"i-info"},[a("div",{staticClass:"i-name"},[a("span",{staticClass:"n-name"},[t._v(t._s(t.user.name))]),a("span",{staticClass:"n-sex"},[t._v(t._s(t.user.sex))])]),a("div",{staticClass:"i-quota"},[a("div",{staticClass:"q-progress"}),a("div",{staticClass:"q-data"},[t._v(t._s(t.quota.used)+"/"+t._s(t.quota.quota)+" "+t._s(t.quota.percent)+"%")])])])]),a("div",{staticClass:"banner"}),a("div",{staticClass:"route-lists"},[a("div",{staticClass:"item"},[a("router-link",{staticClass:"item-link",attrs:{to:"/recycle"}},[a("v-icon",{attrs:{icon:"delete"}}),a("span",[t._v("回收站")])],1)],1),a("div",{staticClass:"item item-direct",on:{click:t.notDev}},[a("v-icon",{attrs:{icon:"setting"}}),a("span",[t._v("设置")])],1),a("div",{staticClass:"item item-direct",on:{click:function(e){t.$router.push("/login")}}},[a("v-icon",{attrs:{icon:"refresh"}}),a("span",[t._v("切换账号")])],1),a("div",{staticClass:"item item-direct",on:{click:t.notDev}},[a("v-icon",{attrs:{icon:"link"}}),a("span",[t._v("离线下载")])],1)]),a("div",{staticClass:"mv-row"},[a("span",{on:{click:t.showIntro}},[t._v("简介")])]),a("div",{staticClass:"mv-row"},[a("span",{on:{click:t.checkUpdate}},[t._v("检查更新")])]),a("div",{staticClass:"mv-row"},[a("span",{on:{click:t.notDev}},[t._v("帮助与反馈")])]),a("div",{staticClass:"mv-row row-exit"},[a("span",{on:{click:t.logout}},[t._v("退出")])])],1)},i=[],o=(a("96cf"),a("1da1")),n=a("be94"),c=(a("cadf"),a("551c"),a("097d"),a("2f62")),r=a("76a0"),u={name:"User",data:function(){return{quota:{},isShowIntro:!1,isShowSetLock:!1,oldLockPwd:"",newLockPwd:""}},computed:Object(n["a"])({},Object(c["c"])(["user"])),methods:{getQuota:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$axios.get("quota").catch(this.error);case 2:e=t.sent,0===e.data.code&&(this.quota=JSON.parse(e.data.data));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),checkUpdate:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$axios.get("setting?method=update").catch(this.error);case 2:e=t.sent,0===e.data.code&&(this.updateVersion=JSON.parse(e.data.data).data.filename,this.updateVersion.length>1?Object(r["MessageBox"])("提示","有新版本更新，请在电脑上下载新版本！"):Object(r["MessageBox"])("提示","您目前使用的版本是最新的, 无需更新！"));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showIntro:function(){this.isShowIntro=!0},showSetLock:function(){this.oldLockPwd="",this.newLockPwd="",this.isShowSetLock=!0},setLockPwd:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.newLockPwd){t.next=3;break}return Object(r["Toast"])({message:"密码不能为空",position:"top",duration:1e3}),t.abrupt("return");case 3:return t.next=5,$axios.get("password?method=set&oldpass=".concat(this.oldLockPwd,"&password=").concat(this.newLockPwd)).catch(this.error);case 5:e=t.sent,0===e.data.code&&(Object(r["Toast"])("设置成功"),localStorage.lastUnlockTime=(new Date).getTime()),-3===e.data.code&&Object(r["Toast"])(e.data.msg);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),logout:function(){r["MessageBox"].confirm("退出登录?").then(Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r["Indicator"].open(),t.next=3,$axios.get("logout");case 3:r["Indicator"].close(),location.reload();case 5:case"end":return t.stop()}},t,this)}))).catch(function(){})},notDev:function(){Object(r["Toast"])("待开发")}},created:function(){this.getQuota()}},d=u,l=a("2877"),p=Object(l["a"])(d,s,i,!1,null,null,null);p.options.__file="User.vue";e["default"]=p.exports}}]);
//# sourceMappingURL=user.508a5bb9.js.map